package src.test;

import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import src.examSources.ParseGlobalByteDataBreakdown;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import static org.junit.jupiter.api.Assertions.*;

class ParseGlobalByteDataBreakdownTest
{
	private static Map<String, Long> byteBreakdownByCountry;

	@BeforeAll
	static void setup()
	{
		byteBreakdownByCountry = new HashMap<>();
		byteBreakdownByCountry.put("US", 12408307086006672L);
		byteBreakdownByCountry.put("CA", 953298815234790L);
		byteBreakdownByCountry.put("GB", 895075596106821L);
		byteBreakdownByCountry.put("NL", 470675203260775L);
		byteBreakdownByCountry.put("AU", 411485628156961L);
		byteBreakdownByCountry.put("NO", 287475565444835L);
		byteBreakdownByCountry.put("FR", 269533074889857L);
		byteBreakdownByCountry.put("IT", 260300051137014L);
		byteBreakdownByCountry.put("FI", 257616518846040L);
		byteBreakdownByCountry.put("VN", 248260018515459L);
		byteBreakdownByCountry.put("DE", 242724755401041L);
		byteBreakdownByCountry.put("TR", 218261702941408L);
		byteBreakdownByCountry.put("BR", 216682240676820L);
		byteBreakdownByCountry.put("ES", 206651369154362L);
		byteBreakdownByCountry.put("IN", 204422070573319L);
		byteBreakdownByCountry.put("MX", 135318045422618L);
		byteBreakdownByCountry.put("PH", 109267884104537L);
		byteBreakdownByCountry.put("SG", 87335736418991L);
		byteBreakdownByCountry.put("PE", 84043742214282L);
		byteBreakdownByCountry.put("MY", 73643531459788L);
		byteBreakdownByCountry.put("NZ", 69812085272418L);
		byteBreakdownByCountry.put("CH", 65692034355632L);
		byteBreakdownByCountry.put("SE", 64949723250923L);
		byteBreakdownByCountry.put("EG", 64773828743616L);
		byteBreakdownByCountry.put("PR", 61437687245171L);
		byteBreakdownByCountry.put("IE", 58709545165524L);
		byteBreakdownByCountry.put("BE", 56417857612587L);
		byteBreakdownByCountry.put("ZA", 56293200868289L);
		byteBreakdownByCountry.put("AR", 53436353266673L);
		byteBreakdownByCountry.put("SA", 50581082649810L);
		byteBreakdownByCountry.put("AE", 46802078955323L);
		byteBreakdownByCountry.put("ID", 45894241196092L);
		byteBreakdownByCountry.put("TH", 45861246528975L);
		byteBreakdownByCountry.put("JP", 45522797682960L);
		byteBreakdownByCountry.put("PL", 44243286988090L);
		byteBreakdownByCountry.put("KW", 43453919043107L);
		byteBreakdownByCountry.put("DK", 38775404213541L);
		byteBreakdownByCountry.put("HU", 32277731887931L);
		byteBreakdownByCountry.put("PT", 28559159131641L);
		byteBreakdownByCountry.put("IL", 27979891285648L);
		byteBreakdownByCountry.put("AT", 27509312370545L);
		byteBreakdownByCountry.put("HK", 26550585027972L);
		byteBreakdownByCountry.put("GR", 25963078791959L);
		byteBreakdownByCountry.put("CO", 25083161461382L);
		byteBreakdownByCountry.put("RU", 24732533743187L);
		byteBreakdownByCountry.put("RO", 23707071924768L);
		byteBreakdownByCountry.put("KR", 20959473049966L);
		byteBreakdownByCountry.put("CL", 18942356363838L);
		byteBreakdownByCountry.put("QA", 18017773490682L);
		byteBreakdownByCountry.put("GH", 17624667228249L);
		byteBreakdownByCountry.put("CZ", 16823324965268L);
		byteBreakdownByCountry.put("NG", 16735526498263L);
		byteBreakdownByCountry.put("PK", 15526843479136L);
		byteBreakdownByCountry.put("TW", 14968350103714L);
		//byteBreakdownByCountry.put("EU", 14711433041270L);
		byteBreakdownByCountry.put("HN", 13801399908488L);
		byteBreakdownByCountry.put("EC", 11462688714043L);
		byteBreakdownByCountry.put("LK", 11433311660388L);
		byteBreakdownByCountry.put("HR", 11071601447780L);
		byteBreakdownByCountry.put("DO", 10731212885594L);
		byteBreakdownByCountry.put("BG", 10392823814214L);
		byteBreakdownByCountry.put("TT", 9731861877482L);
		byteBreakdownByCountry.put("GT", 9631397304125L);
		byteBreakdownByCountry.put("UA", 9302649339870L);
		byteBreakdownByCountry.put("KE", 9104603700002L);
		byteBreakdownByCountry.put("SV", 8850069118825L);
		byteBreakdownByCountry.put("CR", 8395333557576L);
		byteBreakdownByCountry.put("JM", 8001741872918L);
		byteBreakdownByCountry.put("BA", 7687184044611L);
		byteBreakdownByCountry.put("SI", 7091368061741L);
		byteBreakdownByCountry.put("MA", 7062061414050L);
		byteBreakdownByCountry.put("SK", 6554624032642L);
		byteBreakdownByCountry.put("BO", 6126423536800L);
		byteBreakdownByCountry.put("OM", 6110819675300L);
		byteBreakdownByCountry.put("LT", 5844923709199L);
		byteBreakdownByCountry.put("BH", 5687146145480L);
		byteBreakdownByCountry.put("EE", 5617662662778L);
		byteBreakdownByCountry.put("PA", 5448539329538L);
		byteBreakdownByCountry.put("UY", 5426856250561L);
		byteBreakdownByCountry.put("BD", 5383245160648L);
		byteBreakdownByCountry.put("KH", 5263502124899L);
		byteBreakdownByCountry.put("IS", 5002756608201L);
		byteBreakdownByCountry.put("MT", 4752257318166L);
		byteBreakdownByCountry.put("SN", 4716605571808L);
		byteBreakdownByCountry.put("PY", 4590418169314L);
		byteBreakdownByCountry.put("CI", 4270420563253L);
		byteBreakdownByCountry.put("ML", 4179470020783L);
		byteBreakdownByCountry.put("LU", 4117690112431L);
		byteBreakdownByCountry.put("VE", 3839632536751L);
		byteBreakdownByCountry.put("JO", 3832527446489L);
		byteBreakdownByCountry.put("NP", 3722271067964L);
		byteBreakdownByCountry.put("LV", 3702739469994L);
		byteBreakdownByCountry.put("IQ", 3690058419835L);
		byteBreakdownByCountry.put("BB", 3681969800487L);
		byteBreakdownByCountry.put("LB", 3665862122683L);
		byteBreakdownByCountry.put("CY", 3605509149706L);
		byteBreakdownByCountry.put("BS", 3484148056813L);
		byteBreakdownByCountry.put("MK", 3230505816783L);
		byteBreakdownByCountry.put("AL", 3195123045346L);
		byteBreakdownByCountry.put("DZ", 2993091984992L);
		byteBreakdownByCountry.put("MU", 2868678370621L);
		byteBreakdownByCountry.put("TN", 2800746686716L);
		byteBreakdownByCountry.put("GU", 2687168755624L);
		byteBreakdownByCountry.put("GE", 2606357788229L);
		byteBreakdownByCountry.put("AN", 2528208261636L);
		byteBreakdownByCountry.put("MM", 2527268482462L);
		byteBreakdownByCountry.put("IR", 2483088200926L);
		byteBreakdownByCountry.put("HT", 2237854628542L);
		byteBreakdownByCountry.put("UG", 2000873729233L);
		byteBreakdownByCountry.put("CM", 1958227752881L);
		byteBreakdownByCountry.put("NI", 1926478234340L);
		byteBreakdownByCountry.put("GN", 1861238556183L);
		byteBreakdownByCountry.put("RE", 1784123215914L);
		byteBreakdownByCountry.put("KZ", 1782520838802L);
		byteBreakdownByCountry.put("BY", 1757263065291L);
		byteBreakdownByCountry.put("BM", 1747947593101L);
		byteBreakdownByCountry.put("TZ", 1709162954696L);
		byteBreakdownByCountry.put("BZ", 1701883857605L);
		byteBreakdownByCountry.put("BN", 1689561190219L);
		byteBreakdownByCountry.put("MZ", 1511051780129L);
		byteBreakdownByCountry.put("AZ", 1487641451441L);
		byteBreakdownByCountry.put("KY", 1467888050070L);
		byteBreakdownByCountry.put("VI", 1376494856306L);
		byteBreakdownByCountry.put("BF", 1371338700523L);
		byteBreakdownByCountry.put("TG", 1367688082333L);
		byteBreakdownByCountry.put("AO", 1357989971889L);
		byteBreakdownByCountry.put("MV", 1339615978319L);
		byteBreakdownByCountry.put("NA", 1268052828842L);
		byteBreakdownByCountry.put("AW", 1266323598555L);
		byteBreakdownByCountry.put("LA", 1240160047379L);
		byteBreakdownByCountry.put("ZM", 1183231797025L);
		byteBreakdownByCountry.put("MN", 1065013011088L);
		byteBreakdownByCountry.put("ZW", 1062267492677L);
		byteBreakdownByCountry.put("GA", 1014375650528L);
		byteBreakdownByCountry.put("MQ", 998886746389L);
		byteBreakdownByCountry.put("MD", 992990354140L);
		byteBreakdownByCountry.put("LR", 983615883814L);
		byteBreakdownByCountry.put("AM", 982704833024L);
		byteBreakdownByCountry.put("SR", 977996545413L);
		//byteBreakdownByCountry.put("EU", 935515600706L);
		byteBreakdownByCountry.put("GY", 836614441323L);
		byteBreakdownByCountry.put("AG", 829729864781L);
		byteBreakdownByCountry.put("NE", 828902043077L);
		byteBreakdownByCountry.put("GP", 810515006879L);
		byteBreakdownByCountry.put("BJ", 806167449537L);
		byteBreakdownByCountry.put("CG", 773370420956L);
		byteBreakdownByCountry.put("LC", 766545939884L);
		byteBreakdownByCountry.put("CD", 762593475671L);
		byteBreakdownByCountry.put("ET", 703014377264L);
		byteBreakdownByCountry.put("GD", 701400644881L);
		byteBreakdownByCountry.put("RW", 687600102681L);
		byteBreakdownByCountry.put("BW", 682923639707L);
		byteBreakdownByCountry.put("AF", 680335315374L);
		byteBreakdownByCountry.put("FJ", 677136341179L);
		byteBreakdownByCountry.put("CU", 675454515226L);
		byteBreakdownByCountry.put("MO", 661578714700L);
		byteBreakdownByCountry.put("MG", 609250538917L);
		byteBreakdownByCountry.put("GI", 488328389810L);
		byteBreakdownByCountry.put("VC", 464108469432L);
		byteBreakdownByCountry.put("PF", 460529247154L);
		byteBreakdownByCountry.put("LY", 447161657733L);
		byteBreakdownByCountry.put("GM", 409636875936L);
		byteBreakdownByCountry.put("MC", 408897468445L);
		byteBreakdownByCountry.put("NC", 404302193610L);
		byteBreakdownByCountry.put("KN", 388632071469L);
		byteBreakdownByCountry.put("AD", 381377048306L);
		byteBreakdownByCountry.put("TC", 363424616810L);
		byteBreakdownByCountry.put("UZ", 360459721749L);
		byteBreakdownByCountry.put("SD", 352888457850L);
		byteBreakdownByCountry.put("DM", 348193989077L);
		byteBreakdownByCountry.put("KG", 344845230406L);
		byteBreakdownByCountry.put("CV", 342025378491L);
		byteBreakdownByCountry.put("TD", 330411903098L);
		byteBreakdownByCountry.put("SO", 325020609513L);
		byteBreakdownByCountry.put("SL", 323363600362L);
		byteBreakdownByCountry.put("FO", 311912965949L);
		byteBreakdownByCountry.put("SC", 299438938309L);
		byteBreakdownByCountry.put("SY", 265133967862L);
		byteBreakdownByCountry.put("MW", 256792417409L);
		byteBreakdownByCountry.put("BT", 254144825503L);
		byteBreakdownByCountry.put("AI", 225867905717L);
		byteBreakdownByCountry.put("PG", 209423374732L);
		byteBreakdownByCountry.put("MR", 201828580281L);
		byteBreakdownByCountry.put("DJ", 201151248101L);
		byteBreakdownByCountry.put("YE", 198727361553L);
		byteBreakdownByCountry.put("GF", 159338808790L);
		byteBreakdownByCountry.put("VG", 151731125971L);
		byteBreakdownByCountry.put("GL", 148231870734L);
		byteBreakdownByCountry.put("LI", 146803354991L);
		byteBreakdownByCountry.put("LS", 145307420617L);
		byteBreakdownByCountry.put("SZ", 141956354768L);
		byteBreakdownByCountry.put("BI", 126922830643L);
		byteBreakdownByCountry.put("GW", 125785576987L);
		byteBreakdownByCountry.put("GQ", 125472432666L);
		byteBreakdownByCountry.put("AS", 123385879470L);
		byteBreakdownByCountry.put("KM", 97351433459L);
		byteBreakdownByCountry.put("SM", 90953271665L);
		byteBreakdownByCountry.put("VU", 76677919246L);
		byteBreakdownByCountry.put("WS", 76510642315L);
		byteBreakdownByCountry.put("PW", 68812400088L);
		byteBreakdownByCountry.put("MP", 65399348340L);
		byteBreakdownByCountry.put("TO", 48468472346L);
		byteBreakdownByCountry.put("CF", 41711444727L);
		byteBreakdownByCountry.put("TJ", 39911536618L);
		byteBreakdownByCountry.put("FM", 38688285537L);
		byteBreakdownByCountry.put("SB", 35510698148L);
		byteBreakdownByCountry.put("MH", 31767222723L);
		byteBreakdownByCountry.put("ST", 30982971414L);
		byteBreakdownByCountry.put("CK", 30213125910L);
		byteBreakdownByCountry.put("TL", 29852840970L);
		byteBreakdownByCountry.put("YT", 28781786052L);
		byteBreakdownByCountry.put("PM", 27756657223L);
		byteBreakdownByCountry.put("VA", 17756123716L);
		byteBreakdownByCountry.put("FK", 11955211891L);
		byteBreakdownByCountry.put("KI", 9746391784L);
		byteBreakdownByCountry.put("TM", 9486391395L);
		byteBreakdownByCountry.put("NR", 6694449118L);
		byteBreakdownByCountry.put("SH", 5869925134L);
		byteBreakdownByCountry.put("AQ", 4886445176L);
		byteBreakdownByCountry.put("NF", 4643210850L);
		byteBreakdownByCountry.put("CX", 3879094277L);
		byteBreakdownByCountry.put("IO", 3019234509L);
		byteBreakdownByCountry.put("WF", 2151905043L);
		byteBreakdownByCountry.put("ER", 2107495821L);
		byteBreakdownByCountry.put("MS", 1994435127L);
		byteBreakdownByCountry.put("NU", 1208468470L);
		byteBreakdownByCountry.put("TV", 1062836262L);
		byteBreakdownByCountry.put("KP", 976161054L);
		byteBreakdownByCountry.put("CC", 335790954L);
		byteBreakdownByCountry.put("TK", 234976205L);
		byteBreakdownByCountry.put("UM", 80652216L);
		byteBreakdownByCountry.put("SJ", 1916538L);
	}

	@Test
	void getTrafficAsPercentageOfTotal()
	{
		String[] arr = {"AH", "AF", "AK", "AL", "AR", "AM", "AY", "AB", "AZ", "BY", "BI", "BA", "BE", "BH", "BO", "BN", "BR", "BU", "CM", "CH", "CU", "DK", "EL", "EV", "GE", "HA", "HE", "HI", "HT", "IN", "ID", "IR", "IQ", "IS", "IT", "JA", "JW", "JO", "KA", "KZ", "KT", "KR", "KU", "KY", "LA", "LE", "MA", "MS", "ME", "MY", "MO", "MG", "MM", "NA", "NG", "NE", "NS", "OM", "OS", "OT", "PK", "PE", "PH", "PO", "QA", "RK", "ML", "SA", "SB", "SC", "SE", "SI", "SR", "SU", "SY", "TW", "TJ", "TS", "TM", "TH", "TB", "TL", "TN", "TU", "TK", "TV", "UL", "UA", "UR", "UZ", "VT", "YK", "YE", "AC","AR","BE","BO","RR","BR","CH","CI","CO","CR","EC","ES","FI","FG","GU","GY","HO","IN","JM","MY","NA","NI","PM","PA","PE","SU","TT","UR","VE"};
		double result = methodWrapper(arr);
		System.out.println(result);
	}

	private double methodWrapper(String[] countryCodes)
	{
		List<String> countryList = new ArrayList<>();
		for(int i = 0; i < countryCodes.length; i++)
		{
			countryList.add(countryCodes[i]);
		}

		return ParseGlobalByteDataBreakdown.getTrafficAsPercentageOfTotal(byteBreakdownByCountry, countryList);
	}
}